<%- include('../../components/header.ejs') %>

<div class="container py-5">
  <h1 class="mb-4"><%= restaurante ? 'Editar Restaurante' : 'Crear Restaurante' %>üè†</h1>

  <form action="<%= restaurante ? '/admin/restaurantes/' + restaurante.id + '/editar' : '/admin/restaurantes/crear' %>" 
        method="POST" 
        enctype="multipart/form-data" 
        class="bg-white p-4 shadow-sm rounded">

    <div class="mb-3">
      <label for="nombre" class="form-label">Nombre</label>
      <input 
        type="text" 
        name="nombre" 
        id="nombre" 
        class="form-control" 
        required 
        value="<%= restaurante ? restaurante.nombre : '' %>">
    </div>

    <div class="mb-3">
      <label for="logo" class="form-label">Logo (opcional)</label>
      <input 
        type="file" 
        name="logo" 
        id="logo" 
        class="form-control">
    </div>

    <% if (restaurante && restaurante.logo) { %>
      <div class="mb-3">
        <label class="form-label">Logo actual:</label><br>
        <img src="<%= restaurante.logo %>" alt="Logo" width="120" class="img-thumbnail">
      </div>
    <% } %>

    <button type="submit" class="btn btn-success">
      <%= restaurante ? 'Guardar cambios' : 'Crear restaurante' %>
    </button>
    <a href="/admin/restaurantes" class="btn btn-secondary">Cancelar</a>
  </form>
</div>

<%- include('../../components/footer.ejs') %>
